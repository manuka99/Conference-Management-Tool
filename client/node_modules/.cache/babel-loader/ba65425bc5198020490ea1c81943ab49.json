{"ast":null,"code":"var _jsxFileName = \"F:\\\\MANUKA YASAS\\\\sliit_documents\\\\semister5\\\\AF\\\\project\\\\frontend\\\\src\\\\Pages\\\\App\\\\Profile\\\\Security\\\\VerifyEmail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Box, Button, CircularProgress, Divider } from \"@material-ui/core\";\nimport ButtonProgress from \"../../../../components/common/ButtonProgress/ButtonProgress\";\nimport api from \"../../../../util/api\";\nimport swal from \"sweetalert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport DoneOutlineIcon from \"@material-ui/icons/DoneOutline\";\nimport SyncIcon from \"@material-ui/icons/Sync\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\"\n  },\n  loaderWrapper: {\n    display: \"flex\",\n    padding: \" 0 0  0 80px\",\n    boxSizing: \"border-box\"\n  }\n}));\n\nfunction VerifyEmail() {\n  _s();\n\n  const [userData, setuserData] = useState({});\n  const [verifyLoading, setVerifyLoading] = useState(false);\n  const [request, setRequest] = useState(true);\n  const classes = useStyles();\n  useEffect(() => {\n    if (request) {\n      api().get(\"/user\").then(res => {\n        setuserData(res.data.user);\n      }).catch(error => {\n        if (error.response) {\n          console.log(error.data);\n        }\n\n        console.log(error);\n      }).finally(() => {\n        setRequest(false);\n      });\n    }\n  }, [request]);\n\n  const verifyEmail = () => {\n    if (userData.email_verified_at !== null) swal(\"\", \"Your email address has been already verified, nothing to do more. You can update your email address by updating your profile.\", \"success\");else {\n      setVerifyLoading(true);\n      api().post(\"/email/verification-notification\").then(res => {\n        swal(\"\", `Verification link has been sent to the email address: ${userData.email}`, \"success\");\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {\n        setVerifyLoading(false);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mt: 3,\n    mb: 3,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Primary email address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      gutterBottom: true,\n      children: \"Your primary email is used to reach you in case we detect unusual activity in your account or you accidentally get locked out. Your primary email will be used as the recovery email address which helps you to reset your password if:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStylePosition: \"outside\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"You forget your password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"Someone else is using your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"You\\u2019re locked out of your account for another reason\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 3,\n      children: request ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loaderWrapper,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n          className: classes.loader,\n          size: \"50px\",\n          disableShrink: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            required: true,\n            fullWidth: true,\n            InputProps: {\n              readOnly: true\n            },\n            value: userData.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(ButtonProgress, {\n            handleButtonClick: verifyEmail,\n            loading: verifyLoading,\n            variant: \"contained\",\n            color: userData.email_verified_at ? \"primary\" : \"secondary\",\n            spinColor: userData.email_verified_at ? \"primary\" : \"secondary\",\n            name: userData.email_verified_at ? \"Verified\" : \"send verification link\",\n            startIcon: userData.email_verified_at ? /*#__PURE__*/_jsxDEV(DoneOutlineIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(LockIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"primary\",\n            onClick: () => setRequest(true),\n            startIcon: /*#__PURE__*/_jsxDEV(SyncIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 28\n            }, this),\n            children: \"Refresh verification state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VerifyEmail, \"McnGvCtfAbPOvM1DxGmlvk6C/70=\", false, function () {\n  return [useStyles];\n});\n\n_c = VerifyEmail;\nexport default VerifyEmail;\n\nvar _c;\n\n$RefreshReg$(_c, \"VerifyEmail\");","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/frontend/src/Pages/App/Profile/Security/VerifyEmail.js"],"names":["React","useState","useEffect","Grid","Typography","TextField","Box","Button","CircularProgress","Divider","ButtonProgress","api","swal","makeStyles","LockIcon","DoneOutlineIcon","SyncIcon","useStyles","theme","root","width","loaderWrapper","display","padding","boxSizing","VerifyEmail","userData","setuserData","verifyLoading","setVerifyLoading","request","setRequest","classes","get","then","res","data","user","catch","error","response","console","log","finally","verifyEmail","email_verified_at","post","email","listStylePosition","loader","readOnly"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Box, Button, CircularProgress, Divider } from \"@material-ui/core\";\r\nimport ButtonProgress from \"../../../../components/common/ButtonProgress/ButtonProgress\";\r\nimport api from \"../../../../util/api\";\r\nimport swal from \"sweetalert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport DoneOutlineIcon from \"@material-ui/icons/DoneOutline\";\r\nimport SyncIcon from \"@material-ui/icons/Sync\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  loaderWrapper: {\r\n    display: \"flex\",\r\n    padding: \" 0 0  0 80px\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nfunction VerifyEmail() {\r\n  const [userData, setuserData] = useState({});\r\n  const [verifyLoading, setVerifyLoading] = useState(false);\r\n  const [request, setRequest] = useState(true);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (request) {\r\n      api()\r\n        .get(\"/user\")\r\n        .then((res) => {\r\n          setuserData(res.data.user);\r\n        })\r\n        .catch((error) => {\r\n          if (error.response) {\r\n            console.log(error.data);\r\n          } \r\n           console.log(error);\r\n        })\r\n        .finally(() => {\r\n          setRequest(false);\r\n        });\r\n    }\r\n  }, [request]);\r\n\r\n  const verifyEmail = () => {\r\n    if (userData.email_verified_at !== null)\r\n      swal(\r\n        \"\",\r\n        \"Your email address has been already verified, nothing to do more. You can update your email address by updating your profile.\",\r\n        \"success\"\r\n      );\r\n    else {\r\n      setVerifyLoading(true);\r\n      api()\r\n        .post(\"/email/verification-notification\")\r\n        .then((res) => {\r\n          swal(\r\n            \"\",\r\n            `Verification link has been sent to the email address: ${userData.email}`,\r\n            \"success\"\r\n          );\r\n        })\r\n        .catch((error) => {\r\n           console.log(error);\r\n        })\r\n        .finally(() => {\r\n          setVerifyLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box mt={3} mb={3}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Primary email address\r\n      </Typography>\r\n      <Divider />\r\n      <br />\r\n      <Typography variant=\"body2\" gutterBottom>\r\n        Your primary email is used to reach you in case we detect unusual\r\n        activity in your account or you accidentally get locked out. Your\r\n        primary email will be used as the recovery email address which helps you\r\n        to reset your password if:\r\n      </Typography>\r\n      <ul style={{ listStylePosition: \"outside\" }}>\r\n        <li>You forget your password</li>\r\n        <li>Someone else is using your account</li>\r\n        <li>You’re locked out of your account for another reason</li>\r\n      </ul>\r\n      <Box mt={3}>\r\n        {request ? (\r\n          <div className={classes.loaderWrapper}>\r\n            <CircularProgress\r\n              className={classes.loader}\r\n              size=\"50px\"\r\n              disableShrink\r\n            />\r\n          </div>\r\n        ) : (\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n                value={userData.email}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <ButtonProgress\r\n                handleButtonClick={verifyEmail}\r\n                loading={verifyLoading}\r\n                variant=\"contained\"\r\n                color={userData.email_verified_at ? \"primary\" : \"secondary\"}\r\n                spinColor={userData.email_verified_at ? \"primary\" : \"secondary\"}\r\n                name={\r\n                  userData.email_verified_at\r\n                    ? \"Verified\"\r\n                    : \"send verification link\"\r\n                }\r\n                startIcon={\r\n                  userData.email_verified_at ? (\r\n                    <DoneOutlineIcon />\r\n                  ) : (\r\n                    <LockIcon />\r\n                  )\r\n                }\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={() => setRequest(true)}\r\n                startIcon={<SyncIcon />}\r\n              >\r\n                Refresh verification state\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default VerifyEmail;\r\n"]},"metadata":{},"sourceType":"module"}