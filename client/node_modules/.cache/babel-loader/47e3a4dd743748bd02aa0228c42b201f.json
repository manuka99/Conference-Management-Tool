{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Customer = exports.RecurringTimeUnit = exports.Year = exports.Month = exports.Week = exports.removeBlankAttributes = exports.submitPayhereClientRequest = void 0;\n\nconst RecurringTimeUnit_1 = require(\"./RecurringTimeUnit\");\n\nObject.defineProperty(exports, \"RecurringTimeUnit\", {\n  enumerable: true,\n  get: function () {\n    return RecurringTimeUnit_1.RecurringTimeUnit;\n  }\n});\nObject.defineProperty(exports, \"Week\", {\n  enumerable: true,\n  get: function () {\n    return RecurringTimeUnit_1.Week;\n  }\n});\nObject.defineProperty(exports, \"Month\", {\n  enumerable: true,\n  get: function () {\n    return RecurringTimeUnit_1.Month;\n  }\n});\nObject.defineProperty(exports, \"Year\", {\n  enumerable: true,\n  get: function () {\n    return RecurringTimeUnit_1.Year;\n  }\n});\n\nconst Customer_1 = require(\"./Customer\");\n\nObject.defineProperty(exports, \"Customer\", {\n  enumerable: true,\n  get: function () {\n    return Customer_1.Customer;\n  }\n});\n\nconst Payhere_1 = require(\"../Payhere\");\n\nconst removeBlankAttributes = obj => {\n  return Object.fromEntries(Object.entries(obj).filter(([_, v]) => v != null));\n};\n\nexports.removeBlankAttributes = removeBlankAttributes; // +\n\nconst submitPayhereClientRequest = (reqObject, requiredParams, endpoint, onError) => {\n  if (!Payhere_1.Payhere.merchantId) {\n    onError('Payhere is not initialized');\n    return;\n  }\n\n  const form = window.document.createElement('form');\n  form.setAttribute('action', Payhere_1.Payhere.baseUrl + endpoint);\n  form.style.display = 'none';\n  form.setAttribute('method', 'post');\n\n  for (const name of Object.keys(reqObject)) {\n    if (reqObject[name]) {\n      const inpt = window.document.createElement('input');\n      inpt.setAttribute('name', name);\n      inpt.setAttribute('type', 'hidden');\n      inpt.setAttribute('value', reqObject[name]);\n      form.appendChild(inpt);\n    } else {\n      if (Object.keys(requiredParams).includes(name)) {\n        onError(`Payhere Error: ${requiredParams[name]} is a required parameter`);\n        return;\n      }\n    }\n  }\n\n  window.document.body.appendChild(form);\n  form.submit();\n};\n\nexports.submitPayhereClientRequest = submitPayhereClientRequest;","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/src/frontend/node_modules/payhere-js-sdk/lib/utils/index.js"],"names":["Object","defineProperty","exports","value","Customer","RecurringTimeUnit","Year","Month","Week","removeBlankAttributes","submitPayhereClientRequest","RecurringTimeUnit_1","require","enumerable","get","Customer_1","Payhere_1","obj","fromEntries","entries","filter","_","v","reqObject","requiredParams","endpoint","onError","Payhere","merchantId","form","window","document","createElement","setAttribute","baseUrl","style","display","name","keys","inpt","appendChild","includes","body","submit"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Customer = exports.RecurringTimeUnit = exports.Year = exports.Month = exports.Week = exports.removeBlankAttributes = exports.submitPayhereClientRequest = void 0;\r\nconst RecurringTimeUnit_1 = require(\"./RecurringTimeUnit\");\r\nObject.defineProperty(exports, \"RecurringTimeUnit\", { enumerable: true, get: function () { return RecurringTimeUnit_1.RecurringTimeUnit; } });\r\nObject.defineProperty(exports, \"Week\", { enumerable: true, get: function () { return RecurringTimeUnit_1.Week; } });\r\nObject.defineProperty(exports, \"Month\", { enumerable: true, get: function () { return RecurringTimeUnit_1.Month; } });\r\nObject.defineProperty(exports, \"Year\", { enumerable: true, get: function () { return RecurringTimeUnit_1.Year; } });\r\nconst Customer_1 = require(\"./Customer\");\r\nObject.defineProperty(exports, \"Customer\", { enumerable: true, get: function () { return Customer_1.Customer; } });\r\nconst Payhere_1 = require(\"../Payhere\");\r\nconst removeBlankAttributes = (obj) => {\r\n    return Object.fromEntries(Object.entries(obj).filter(([_, v]) => v != null));\r\n};\r\nexports.removeBlankAttributes = removeBlankAttributes;\r\n// +\r\nconst submitPayhereClientRequest = (reqObject, requiredParams, endpoint, onError) => {\r\n    if (!Payhere_1.Payhere.merchantId) {\r\n        onError('Payhere is not initialized');\r\n        return;\r\n    }\r\n    const form = window.document.createElement('form');\r\n    form.setAttribute('action', Payhere_1.Payhere.baseUrl + endpoint);\r\n    form.style.display = 'none';\r\n    form.setAttribute('method', 'post');\r\n    for (const name of Object.keys(reqObject)) {\r\n        if (reqObject[name]) {\r\n            const inpt = window.document.createElement('input');\r\n            inpt.setAttribute('name', name);\r\n            inpt.setAttribute('type', 'hidden');\r\n            inpt.setAttribute('value', reqObject[name]);\r\n            form.appendChild(inpt);\r\n        }\r\n        else {\r\n            if (Object.keys(requiredParams).includes(name)) {\r\n                onError(`Payhere Error: ${requiredParams[name]} is a required parameter`);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    window.document.body.appendChild(form);\r\n    form.submit();\r\n};\r\nexports.submitPayhereClientRequest = submitPayhereClientRequest;\r\n"]},"metadata":{},"sourceType":"script"}