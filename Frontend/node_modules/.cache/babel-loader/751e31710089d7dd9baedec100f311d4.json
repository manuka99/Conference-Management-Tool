{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PayhereCheckout = void 0;\n\nconst Payhere_1 = require(\"./Payhere\");\n\nconst utils_1 = require(\"./utils\");\n\nconst requiredCheckoutParams = {\n  return_url: 'returnUrl',\n  cancel_url: 'cancelUrl',\n  notify_url: 'notifyUrl',\n  first_name: 'firstName',\n  last_name: 'lastName',\n  email: 'email',\n  phone: 'phone',\n  address: 'address',\n  city: 'city',\n  country: 'country',\n  order_id: 'orderId',\n  items: 'itemTitle',\n  currency: 'currency',\n  amount: 'amount'\n};\n\nclass PayhereCheckout extends Payhere_1.Payhere {\n  constructor(customer, checkoutParams, onError) {\n    super();\n\n    this.onCheckoutError = errorMsg => console.error;\n\n    try {\n      if (!customer) {\n        throw new Error(\"Required parameter 'customer' is missing\");\n      }\n\n      if (!checkoutParams) {\n        throw new Error(\"Required parameter 'checkoutData' is missing\");\n      }\n\n      this._customerData = customer;\n      this._checkoutParams = checkoutParams;\n\n      if (onError) {\n        this.onCheckoutError = onError;\n      }\n    } catch (err) {\n      this.onCheckoutError(err);\n    }\n  }\n\n  start() {\n    try {\n      const checkoutReq = { ...this._checkoutParams.toJSON(),\n        ...this._customerData.toJSON()\n      };\n      utils_1.submitPayhereClientRequest(checkoutReq, requiredCheckoutParams, '/pay/checkout', this.onCheckoutError);\n    } catch (err) {\n      this.onCheckoutError('Unknown error: ' + err);\n    }\n  }\n\n}\n\nexports.PayhereCheckout = PayhereCheckout;","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/src/Frontend/node_modules/payhere-js-sdk/lib/PayhereCheckout.js"],"names":["Object","defineProperty","exports","value","PayhereCheckout","Payhere_1","require","utils_1","requiredCheckoutParams","return_url","cancel_url","notify_url","first_name","last_name","email","phone","address","city","country","order_id","items","currency","amount","Payhere","constructor","customer","checkoutParams","onError","onCheckoutError","errorMsg","console","error","Error","_customerData","_checkoutParams","err","start","checkoutReq","toJSON","submitPayhereClientRequest"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0B,KAAK,CAA/B;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAME,sBAAsB,GAAG;AAC3BC,EAAAA,UAAU,EAAE,WADe;AAE3BC,EAAAA,UAAU,EAAE,WAFe;AAG3BC,EAAAA,UAAU,EAAE,WAHe;AAI3BC,EAAAA,UAAU,EAAE,WAJe;AAK3BC,EAAAA,SAAS,EAAE,UALgB;AAM3BC,EAAAA,KAAK,EAAE,OANoB;AAO3BC,EAAAA,KAAK,EAAE,OAPoB;AAQ3BC,EAAAA,OAAO,EAAE,SARkB;AAS3BC,EAAAA,IAAI,EAAE,MATqB;AAU3BC,EAAAA,OAAO,EAAE,SAVkB;AAW3BC,EAAAA,QAAQ,EAAE,SAXiB;AAY3BC,EAAAA,KAAK,EAAE,WAZoB;AAa3BC,EAAAA,QAAQ,EAAE,UAbiB;AAc3BC,EAAAA,MAAM,EAAE;AAdmB,CAA/B;;AAgBA,MAAMlB,eAAN,SAA8BC,SAAS,CAACkB,OAAxC,CAAgD;AAC5CC,EAAAA,WAAW,CAACC,QAAD,EAAWC,cAAX,EAA2BC,OAA3B,EAAoC;AAC3C;;AACA,SAAKC,eAAL,GAAwBC,QAAD,IAAcC,OAAO,CAACC,KAA7C;;AACA,QAAI;AACA,UAAI,CAACN,QAAL,EAAe;AACX,cAAM,IAAIO,KAAJ,CAAU,0CAAV,CAAN;AACH;;AACD,UAAI,CAACN,cAAL,EAAqB;AACjB,cAAM,IAAIM,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,WAAKC,aAAL,GAAqBR,QAArB;AACA,WAAKS,eAAL,GAAuBR,cAAvB;;AACA,UAAIC,OAAJ,EAAa;AACT,aAAKC,eAAL,GAAuBD,OAAvB;AACH;AACJ,KAZD,CAaA,OAAOQ,GAAP,EAAY;AACR,WAAKP,eAAL,CAAqBO,GAArB;AACH;AACJ;;AACDC,EAAAA,KAAK,GAAG;AACJ,QAAI;AACA,YAAMC,WAAW,GAAG,EAChB,GAAG,KAAKH,eAAL,CAAqBI,MAArB,EADa;AAEhB,WAAG,KAAKL,aAAL,CAAmBK,MAAnB;AAFa,OAApB;AAIA/B,MAAAA,OAAO,CAACgC,0BAAR,CAAmCF,WAAnC,EAAgD7B,sBAAhD,EAAwE,eAAxE,EAAyF,KAAKoB,eAA9F;AACH,KAND,CAOA,OAAOO,GAAP,EAAY;AACR,WAAKP,eAAL,CAAqB,oBAAoBO,GAAzC;AACH;AACJ;;AAhC2C;;AAkChDjC,OAAO,CAACE,eAAR,GAA0BA,eAA1B","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PayhereCheckout = void 0;\r\nconst Payhere_1 = require(\"./Payhere\");\r\nconst utils_1 = require(\"./utils\");\r\nconst requiredCheckoutParams = {\r\n    return_url: 'returnUrl',\r\n    cancel_url: 'cancelUrl',\r\n    notify_url: 'notifyUrl',\r\n    first_name: 'firstName',\r\n    last_name: 'lastName',\r\n    email: 'email',\r\n    phone: 'phone',\r\n    address: 'address',\r\n    city: 'city',\r\n    country: 'country',\r\n    order_id: 'orderId',\r\n    items: 'itemTitle',\r\n    currency: 'currency',\r\n    amount: 'amount',\r\n};\r\nclass PayhereCheckout extends Payhere_1.Payhere {\r\n    constructor(customer, checkoutParams, onError) {\r\n        super();\r\n        this.onCheckoutError = (errorMsg) => console.error;\r\n        try {\r\n            if (!customer) {\r\n                throw new Error(\"Required parameter 'customer' is missing\");\r\n            }\r\n            if (!checkoutParams) {\r\n                throw new Error(\"Required parameter 'checkoutData' is missing\");\r\n            }\r\n            this._customerData = customer;\r\n            this._checkoutParams = checkoutParams;\r\n            if (onError) {\r\n                this.onCheckoutError = onError;\r\n            }\r\n        }\r\n        catch (err) {\r\n            this.onCheckoutError(err);\r\n        }\r\n    }\r\n    start() {\r\n        try {\r\n            const checkoutReq = {\r\n                ...this._checkoutParams.toJSON(),\r\n                ...this._customerData.toJSON(),\r\n            };\r\n            utils_1.submitPayhereClientRequest(checkoutReq, requiredCheckoutParams, '/pay/checkout', this.onCheckoutError);\r\n        }\r\n        catch (err) {\r\n            this.onCheckoutError('Unknown error: ' + err);\r\n        }\r\n    }\r\n}\r\nexports.PayhereCheckout = PayhereCheckout;\r\n"]},"metadata":{},"sourceType":"script"}