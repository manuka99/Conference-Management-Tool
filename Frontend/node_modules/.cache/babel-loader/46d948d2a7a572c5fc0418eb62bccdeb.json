{"ast":null,"code":"import store from \"../Redux/store\";\nexport function isLoggedIn(roles = null) {\n  const state = store.getState().currentUser;\n  const user_data = state.user_data;\n  let userAuth = false;\n  let userRoleValidated = false;\n\n  if (user_data && user_data.user && user_data.user._id) {\n    userAuth = true;\n    userRoleValidated = roles ? roleValidated(roles, user_data) : true;\n  }\n\n  return {\n    userAuth,\n    userRoleValidated\n  };\n}\n\nconst roleValidated = (roles, user_data) => {\n  let validated = false;\n\n  if (roles != null && user_data.roles != null) {\n    roles.forEach(role => {\n      user_data.roles.forEach(user_role => {\n        if (role === user_role.name) {\n          console.log(`Role: ${role}, ${user_role.name}`);\n          validated = true;\n        }\n      });\n    });\n  }\n\n  return validated;\n};","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/src/frontend/src/util/auth.js"],"names":["store","isLoggedIn","roles","state","getState","currentUser","user_data","userAuth","userRoleValidated","user","_id","roleValidated","validated","forEach","role","user_role","name","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AAEA,OAAO,SAASC,UAAT,CAAoBC,KAAK,GAAG,IAA5B,EAAkC;AACvC,QAAMC,KAAK,GAAGH,KAAK,CAACI,QAAN,GAAiBC,WAA/B;AACA,QAAMC,SAAS,GAAGH,KAAK,CAACG,SAAxB;AAEA,MAAIC,QAAQ,GAAG,KAAf;AACA,MAAIC,iBAAiB,GAAG,KAAxB;;AAEA,MAAIF,SAAS,IAAIA,SAAS,CAACG,IAAvB,IAA+BH,SAAS,CAACG,IAAV,CAAeC,GAAlD,EAAuD;AACrDH,IAAAA,QAAQ,GAAG,IAAX;AACAC,IAAAA,iBAAiB,GAAGN,KAAK,GAAGS,aAAa,CAACT,KAAD,EAAQI,SAAR,CAAhB,GAAqC,IAA9D;AACD;;AAED,SAAO;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAP;AACD;;AAED,MAAMG,aAAa,GAAG,CAACT,KAAD,EAAQI,SAAR,KAAsB;AAC1C,MAAIM,SAAS,GAAG,KAAhB;;AACA,MAAIV,KAAK,IAAI,IAAT,IAAiBI,SAAS,CAACJ,KAAV,IAAmB,IAAxC,EAA8C;AAC5CA,IAAAA,KAAK,CAACW,OAAN,CAAeC,IAAD,IAAU;AACtBR,MAAAA,SAAS,CAACJ,KAAV,CAAgBW,OAAhB,CAAyBE,SAAD,IAAe;AACrC,YAAID,IAAI,KAAKC,SAAS,CAACC,IAAvB,EAA6B;AAC3BC,UAAAA,OAAO,CAACC,GAAR,CAAa,SAAQJ,IAAK,KAAIC,SAAS,CAACC,IAAK,EAA7C;AACAJ,UAAAA,SAAS,GAAG,IAAZ;AACD;AACF,OALD;AAMD,KAPD;AAQD;;AACD,SAAOA,SAAP;AACD,CAbD","sourcesContent":["import store from \"../Redux/store\";\r\n\r\nexport function isLoggedIn(roles = null) {\r\n  const state = store.getState().currentUser;\r\n  const user_data = state.user_data;\r\n\r\n  let userAuth = false;\r\n  let userRoleValidated = false;\r\n\r\n  if (user_data && user_data.user && user_data.user._id) {\r\n    userAuth = true;\r\n    userRoleValidated = roles ? roleValidated(roles, user_data) : true;\r\n  }\r\n\r\n  return { userAuth, userRoleValidated };\r\n}\r\n\r\nconst roleValidated = (roles, user_data) => {\r\n  let validated = false;\r\n  if (roles != null && user_data.roles != null) {\r\n    roles.forEach((role) => {\r\n      user_data.roles.forEach((user_role) => {\r\n        if (role === user_role.name) {\r\n          console.log(`Role: ${role}, ${user_role.name}`);\r\n          validated = true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n  return validated;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}