{"ast":null,"code":"var _jsxFileName = \"F:\\\\MANUKA YASAS\\\\sliit_documents\\\\semister5\\\\AF\\\\project\\\\src\\\\frontend\\\\src\\\\Pages\\\\Protected\\\\Users\\\\ViewUsers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Api from \"../../../common/Api\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport swal from \"sweetalert\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650\n  },\n  model: {\n    overflow: \"auto\"\n  }\n});\n\nfunction ViewUsers() {\n  _s();\n\n  const classes = useStyles();\n  const [users, setUsers] = useState([]);\n  const [open, setOpen] = useState(false);\n  const {\n    role_name\n  } = useParams();\n  useEffect(() => {\n    Api().get(`/reviewer/user-role/${role_name}`).then(res => setUsers(res.data.data)).catch(err => console.log(err));\n  }, []);\n\n  const deleteUser = (id, index) => {\n    Api().delete(`/api/admin/users/${id}`).then(res => {\n      removeUserFromList(res.data.data._id);\n      swal(\"User was deleted successfully!\");\n    }).catch(err => console.log(err));\n  };\n\n  const removeUserFromList = id => {\n    const rmv_index = users.findIndex((val, index) => {\n      if (val._id === id) return index;\n    });\n    var newUsers = users;\n    newUsers.splice(rmv_index, 1);\n    setUsers(newUsers);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      className: classes.model,\n      open: open,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 6,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\"Manage users (\", users.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          \"aria-label\": \"Delete delivery\",\n          component: \"span\",\n          size: \"small\",\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddCircleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 24\n          }, this),\n          children: \"New Delivery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          className: classes.table,\n          \"aria-label\": \"simple table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"User name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"User role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Approved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Last update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"CreatedAt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: users.map((user, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: [\"#\", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: user.firstName + \" \" + user.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: user.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: user.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: user.approved ? Approved : Rejected\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: user.updatedAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: user.CreatedAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"primary\",\n                  \"aria-label\": \"Edit delivery\",\n                  component: \"span\",\n                  onClick: () => {},\n                  children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"secondary\",\n                  \"aria-label\": \"Delete delivery\",\n                  component: \"span\",\n                  onClick: () => {},\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this)]\n            }, user._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewUsers, \"EghS10IfZf+mH2vpdHfJjy9YgTI=\", false, function () {\n  return [useStyles, useParams];\n});\n\n_c = ViewUsers;\nexport default ViewUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewUsers\");","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/src/frontend/src/Pages/Protected/Users/ViewUsers.js"],"names":["React","useState","useEffect","Api","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","IconButton","EditIcon","DeleteIcon","Box","Button","Typography","AddCircleIcon","swal","Modal","useParams","useStyles","table","minWidth","model","overflow","ViewUsers","classes","users","setUsers","open","setOpen","role_name","get","then","res","data","catch","err","console","log","deleteUser","id","index","delete","removeUserFromList","_id","rmv_index","findIndex","val","newUsers","splice","length","map","user","email","firstName","lastName","phone","role","approved","Approved","Rejected","updatedAt","CreatedAt"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,UAAtB,QAAwC,mBAAxC;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,MAAMC,SAAS,GAAGlB,UAAU,CAAC;AAC3BmB,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GADoB;AAI3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL;AAJoB,CAAD,CAA5B;;AASA,SAASC,SAAT,GAAqB;AAAA;;AACnB,QAAMC,OAAO,GAAGN,SAAS,EAAzB;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoB7B,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC8B,IAAD,EAAOC,OAAP,IAAkB/B,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM;AAAEgC,IAAAA;AAAF,MAAgBZ,SAAS,EAA/B;AAEAnB,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,GAAG,GACA+B,GADH,CACQ,uBAAsBD,SAAU,EADxC,EAEGE,IAFH,CAESC,GAAD,IAASN,QAAQ,CAACM,GAAG,CAACC,IAAJ,CAASA,IAAV,CAFzB,EAGGC,KAHH,CAGUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHlB;AAID,GALQ,EAKN,EALM,CAAT;;AAOA,QAAMG,UAAU,GAAG,CAACC,EAAD,EAAKC,KAAL,KAAe;AAChCzC,IAAAA,GAAG,GACA0C,MADH,CACW,oBAAmBF,EAAG,EADjC,EAEGR,IAFH,CAESC,GAAD,IAAS;AACbU,MAAAA,kBAAkB,CAACV,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcU,GAAf,CAAlB;AACA5B,MAAAA,IAAI,CAAC,gCAAD,CAAJ;AACD,KALH,EAMGmB,KANH,CAMUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANlB;AAOD,GARD;;AAUA,QAAMO,kBAAkB,GAAIH,EAAD,IAAQ;AACjC,UAAMK,SAAS,GAAGnB,KAAK,CAACoB,SAAN,CAAgB,CAACC,GAAD,EAAMN,KAAN,KAAgB;AAChD,UAAIM,GAAG,CAACH,GAAJ,KAAYJ,EAAhB,EAAoB,OAAOC,KAAP;AACrB,KAFiB,CAAlB;AAGA,QAAIO,QAAQ,GAAGtB,KAAf;AACAsB,IAAAA,QAAQ,CAACC,MAAT,CAAgBJ,SAAhB,EAA2B,CAA3B;AACAlB,IAAAA,QAAQ,CAACqB,QAAD,CAAR;AACD,GAPD;;AASA,sBACE;AAAA,4BACE,QAAC,KAAD;AACE,MAAA,SAAS,EAAEvB,OAAO,CAACH,KADrB;AAEE,MAAA,IAAI,EAAEM,IAFR;AAGE,yBAAgB,oBAHlB;AAIE,0BAAiB;AAJnB;AAAA;AAAA;AAAA;AAAA,YADF,eAOE,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,MAArC;AAAA,+BACE;AAAA,uCAAkBF,KAAK,CAACwB,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,cAAD;AAAgB,QAAA,SAAS,EAAE1C,KAA3B;AAAA,gCACE,QAAC,MAAD;AACE,UAAA,KAAK,EAAC,WADR;AAEE,wBAAW,iBAFb;AAGE,UAAA,SAAS,EAAC,MAHZ;AAIE,UAAA,IAAI,EAAC,OAJP;AAKE,UAAA,OAAO,EAAC,WALV;AAME,UAAA,SAAS,eAAE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE,QAAC,KAAD;AAAO,UAAA,SAAS,EAAEiB,OAAO,CAACL,KAA1B;AAAiC,wBAAW,cAA5C;AAAA,kCACE,QAAC,SAAD;AAAA,mCACE,QAAC,QAAD;AAAA,sCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,eAOE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,eAQE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARF,eASE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAcE,QAAC,SAAD;AAAA,sBACGM,KAAK,CAACyB,GAAN,CAAU,CAACC,IAAD,EAAOX,KAAP,kBACT,QAAC,QAAD;AAAA,sCACE,QAAC,SAAD;AAAA,gCAAaA,KAAK,GAAG,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,SAAD;AAAW,gBAAA,SAAS,EAAC,IAArB;AAA0B,gBAAA,KAAK,EAAC,KAAhC;AAAA,0BACGW,IAAI,CAACC;AADR;AAAA;AAAA;AAAA;AAAA,sBAFF,eAKE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,0BACGD,IAAI,CAACE,SAAL,GAAiB,GAAjB,GAAuBF,IAAI,CAACG;AAD/B;AAAA;AAAA;AAAA;AAAA,sBALF,eAQE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,0BAA0BH,IAAI,CAACI;AAA/B;AAAA;AAAA;AAAA;AAAA,sBARF,eASE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,0BAA0BJ,IAAI,CAACK;AAA/B;AAAA;AAAA;AAAA;AAAA,sBATF,eAUE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,0BACGL,IAAI,CAACM,QAAL,GAAgBC,QAAhB,GAA2BC;AAD9B;AAAA;AAAA;AAAA;AAAA,sBAVF,eAaE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,0BAA0BR,IAAI,CAACS;AAA/B;AAAA;AAAA;AAAA;AAAA,sBAbF,eAcE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,0BAA0BT,IAAI,CAACU;AAA/B;AAAA;AAAA;AAAA;AAAA,sBAdF,eAeE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,uCACE,QAAC,UAAD;AACE,kBAAA,KAAK,EAAC,SADR;AAEE,gCAAW,eAFb;AAGE,kBAAA,SAAS,EAAC,MAHZ;AAIE,kBAAA,OAAO,EAAE,MAAM,CAAE,CAJnB;AAAA,yCAME,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAfF,eAyBE,QAAC,SAAD;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA,uCACE,QAAC,UAAD;AACE,kBAAA,KAAK,EAAC,WADR;AAEE,gCAAW,iBAFb;AAGE,kBAAA,SAAS,EAAC,MAHZ;AAIE,kBAAA,OAAO,EAAE,MAAM,CAAE,CAJnB;AAAA,yCAME,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAzBF;AAAA,eAAeV,IAAI,CAACR,GAApB;AAAA;AAAA;AAAA;AAAA,oBADD;AADH;AAAA;AAAA;AAAA;AAAA,kBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkFD;;GAlHQpB,S;UACSL,S,EAGMD,S;;;KAJfM,S;AAoHT,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Api from \"../../../common/Api\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { Box, Button, Typography } from \"@material-ui/core\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport swal from \"sweetalert\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  model: {\r\n    overflow: \"auto\",\r\n  },\r\n});\r\n\r\nfunction ViewUsers() {\r\n  const classes = useStyles();\r\n  const [users, setUsers] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const { role_name } = useParams();\r\n\r\n  useEffect(() => {\r\n    Api()\r\n      .get(`/reviewer/user-role/${role_name}`)\r\n      .then((res) => setUsers(res.data.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const deleteUser = (id, index) => {\r\n    Api()\r\n      .delete(`/api/admin/users/${id}`)\r\n      .then((res) => {\r\n        removeUserFromList(res.data.data._id);\r\n        swal(\"User was deleted successfully!\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const removeUserFromList = (id) => {\r\n    const rmv_index = users.findIndex((val, index) => {\r\n      if (val._id === id) return index;\r\n    });\r\n    var newUsers = users;\r\n    newUsers.splice(rmv_index, 1);\r\n    setUsers(newUsers);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        className={classes.model}\r\n        open={open}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      ></Modal>\r\n      <Box mt={6}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          <b>Manage users ({users.length})</b>\r\n        </Typography>\r\n        <TableContainer component={Paper}>\r\n          <Button\r\n            color=\"secondary\"\r\n            aria-label=\"Delete delivery\"\r\n            component=\"span\"\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            startIcon={<AddCircleIcon />}\r\n          >\r\n            New Delivery\r\n          </Button>\r\n          <Table className={classes.table} aria-label=\"simple table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell></TableCell>\r\n                <TableCell>Email</TableCell>\r\n                <TableCell align=\"right\">User name</TableCell>\r\n                <TableCell align=\"right\">Phone</TableCell>\r\n                <TableCell align=\"right\">User role</TableCell>\r\n                <TableCell align=\"right\">Approved</TableCell>\r\n                <TableCell align=\"right\">Last update</TableCell>\r\n                <TableCell align=\"right\">CreatedAt</TableCell>\r\n                <TableCell align=\"right\">View</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {users.map((user, index) => (\r\n                <TableRow key={user._id}>\r\n                  <TableCell>#{index + 1}</TableCell>\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    {user.email}\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    {user.firstName + \" \" + user.lastName}\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">{user.phone}</TableCell>\r\n                  <TableCell align=\"right\">{user.role}</TableCell>\r\n                  <TableCell align=\"right\">\r\n                    {user.approved ? Approved : Rejected}\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">{user.updatedAt}</TableCell>\r\n                  <TableCell align=\"right\">{user.CreatedAt}</TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <IconButton\r\n                      color=\"primary\"\r\n                      aria-label=\"Edit delivery\"\r\n                      component=\"span\"\r\n                      onClick={() => {}}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <IconButton\r\n                      color=\"secondary\"\r\n                      aria-label=\"Delete delivery\"\r\n                      component=\"span\"\r\n                      onClick={() => {}}\r\n                    >\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewUsers;\r\n"]},"metadata":{},"sourceType":"module"}