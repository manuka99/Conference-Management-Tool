{"ast":null,"code":"import { FETCH_USER_SUCCESS, FETCH_USER_ERROR, FETCH_USER_REQUEST, USER_LOGIN, USER_LOGOUT, INIT_REQUEST_PATH } from \"./UserActionTypes\";\nimport api from \"../../util/Api\";\nexport const fetch_user_data_success = userData => {\n  return {\n    type: FETCH_USER_SUCCESS,\n    payload: userData\n  };\n};\nexport const fetch_user_data_error = error => {\n  return {\n    type: FETCH_USER_ERROR,\n    payload: error\n  };\n};\nexport const fetch_user_data_request = () => {\n  return {\n    type: FETCH_USER_REQUEST\n  };\n};\nexport const user_login = () => {\n  return {\n    type: USER_LOGIN\n  };\n};\nexport const user_logout = () => {\n  return {\n    type: USER_LOGOUT\n  };\n};\nexport const init_request_path = path => {\n  return {\n    type: INIT_REQUEST_PATH,\n    payload: path\n  };\n}; //side effects\n\nexport const fetch_user_data = () => {\n  return dispatch => {\n    dispatch(fetch_user_data_request());\n    api().get(\"/public/validate-token\").then(res => {\n      dispatch(fetch_user_data_success(res.data.data));\n      if (res.data && res.data.user && res.data.user._id) dispatch(user_login());\n    }).catch(error => {\n      console.log(error);\n      dispatch(fetch_user_data_error(error));\n      dispatch(user_logout());\n    });\n  };\n};","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/src/frontend/src/Redux/User/UserActions.js"],"names":["FETCH_USER_SUCCESS","FETCH_USER_ERROR","FETCH_USER_REQUEST","USER_LOGIN","USER_LOGOUT","INIT_REQUEST_PATH","api","fetch_user_data_success","userData","type","payload","fetch_user_data_error","error","fetch_user_data_request","user_login","user_logout","init_request_path","path","fetch_user_data","dispatch","get","then","res","data","user","_id","catch","console","log"],"mappings":"AAAA,SACEA,kBADF,EAEEC,gBAFF,EAGEC,kBAHF,EAIEC,UAJF,EAKEC,WALF,EAMEC,iBANF,QAOO,mBAPP;AAQA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,OAAO,MAAMC,uBAAuB,GAAIC,QAAD,IAAc;AACnD,SAAO;AACLC,IAAAA,IAAI,EAAET,kBADD;AAELU,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,qBAAqB,GAAIC,KAAD,IAAW;AAC9C,SAAO;AACLH,IAAAA,IAAI,EAAER,gBADD;AAELS,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMC,uBAAuB,GAAG,MAAM;AAC3C,SAAO;AACLJ,IAAAA,IAAI,EAAEP;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMY,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLL,IAAAA,IAAI,EAAEN;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMY,WAAW,GAAG,MAAM;AAC/B,SAAO;AACLN,IAAAA,IAAI,EAAEL;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMY,iBAAiB,GAAIC,IAAD,IAAU;AACzC,SAAO;AACLR,IAAAA,IAAI,EAAEJ,iBADD;AAELK,IAAAA,OAAO,EAAEO;AAFJ,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACN,uBAAuB,EAAxB,CAAR;AACAP,IAAAA,GAAG,GACAc,GADH,CACO,wBADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACbH,MAAAA,QAAQ,CAACZ,uBAAuB,CAACe,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAxB,CAAR;AACA,UAAID,GAAG,CAACC,IAAJ,IAAYD,GAAG,CAACC,IAAJ,CAASC,IAArB,IAA6BF,GAAG,CAACC,IAAJ,CAASC,IAAT,CAAcC,GAA/C,EACEN,QAAQ,CAACL,UAAU,EAAX,CAAR;AACH,KANH,EAOGY,KAPH,CAOUd,KAAD,IAAW;AAChBe,MAAAA,OAAO,CAACC,GAAR,CAAYhB,KAAZ;AACAO,MAAAA,QAAQ,CAACR,qBAAqB,CAACC,KAAD,CAAtB,CAAR;AACAO,MAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CAhBM","sourcesContent":["import {\r\n  FETCH_USER_SUCCESS,\r\n  FETCH_USER_ERROR,\r\n  FETCH_USER_REQUEST,\r\n  USER_LOGIN,\r\n  USER_LOGOUT,\r\n  INIT_REQUEST_PATH,\r\n} from \"./UserActionTypes\";\r\nimport api from \"../../util/Api\";\r\n\r\nexport const fetch_user_data_success = (userData) => {\r\n  return {\r\n    type: FETCH_USER_SUCCESS,\r\n    payload: userData,\r\n  };\r\n};\r\n\r\nexport const fetch_user_data_error = (error) => {\r\n  return {\r\n    type: FETCH_USER_ERROR,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const fetch_user_data_request = () => {\r\n  return {\r\n    type: FETCH_USER_REQUEST,\r\n  };\r\n};\r\n\r\nexport const user_login = () => {\r\n  return {\r\n    type: USER_LOGIN,\r\n  };\r\n};\r\n\r\nexport const user_logout = () => {\r\n  return {\r\n    type: USER_LOGOUT,\r\n  };\r\n};\r\n\r\nexport const init_request_path = (path) => {\r\n  return {\r\n    type: INIT_REQUEST_PATH,\r\n    payload: path,\r\n  };\r\n};\r\n\r\n//side effects\r\nexport const fetch_user_data = () => {\r\n  return (dispatch) => {\r\n    dispatch(fetch_user_data_request());\r\n    api()\r\n      .get(\"/public/validate-token\")\r\n      .then((res) => {\r\n        dispatch(fetch_user_data_success(res.data.data));\r\n        if (res.data && res.data.user && res.data.user._id)\r\n          dispatch(user_login());\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        dispatch(fetch_user_data_error(error));\r\n        dispatch(user_logout());\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}