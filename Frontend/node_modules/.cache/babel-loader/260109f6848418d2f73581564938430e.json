{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PayherePreapproval = void 0;\n\nconst Payhere_1 = require(\"./Payhere\");\n\nconst utils_1 = require(\"./utils\");\n\nconst requiredPreapprovalParams = {\n  return_url: 'returnUrl',\n  cancel_url: 'cancelUrl',\n  notify_url: 'notifyUrl',\n  first_name: 'firstName',\n  last_name: 'lastName',\n  email: 'email',\n  phone: 'phone',\n  address: 'address',\n  city: 'city',\n  country: 'country',\n  order_id: 'orderId',\n  items: 'itemTitle',\n  currency: 'currency'\n};\n\nclass PayherePreapproval extends Payhere_1.Payhere {\n  constructor(customer, preappObj, onApprovalError) {\n    super();\n\n    this.onApprovalError = errorMsg => console.error(errorMsg);\n\n    this._preappObj = preappObj;\n    this._customerData = customer;\n    this.onApprovalError = onApprovalError;\n  }\n\n  async start() {\n    try {\n      const preappReq = { ...this._preappObj.toJSON(),\n        ...this._customerData.toJSON()\n      };\n      utils_1.submitPayhereClientRequest(preappReq, requiredPreapprovalParams, '/pay/preapprove', this.onApprovalError);\n    } catch (err) {\n      this.onApprovalError('Unknown error: ' + err);\n    }\n  }\n\n}\n\nexports.PayherePreapproval = PayherePreapproval;","map":{"version":3,"sources":["F:/MANUKA YASAS/sliit_documents/semister5/AF/project/src/Frontend/node_modules/payhere-js-sdk/lib/PayherePreapproval.js"],"names":["Object","defineProperty","exports","value","PayherePreapproval","Payhere_1","require","utils_1","requiredPreapprovalParams","return_url","cancel_url","notify_url","first_name","last_name","email","phone","address","city","country","order_id","items","currency","Payhere","constructor","customer","preappObj","onApprovalError","errorMsg","console","error","_preappObj","_customerData","start","preappReq","toJSON","submitPayhereClientRequest","err"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6B,KAAK,CAAlC;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAME,yBAAyB,GAAG;AAC9BC,EAAAA,UAAU,EAAE,WADkB;AAE9BC,EAAAA,UAAU,EAAE,WAFkB;AAG9BC,EAAAA,UAAU,EAAE,WAHkB;AAI9BC,EAAAA,UAAU,EAAE,WAJkB;AAK9BC,EAAAA,SAAS,EAAE,UALmB;AAM9BC,EAAAA,KAAK,EAAE,OANuB;AAO9BC,EAAAA,KAAK,EAAE,OAPuB;AAQ9BC,EAAAA,OAAO,EAAE,SARqB;AAS9BC,EAAAA,IAAI,EAAE,MATwB;AAU9BC,EAAAA,OAAO,EAAE,SAVqB;AAW9BC,EAAAA,QAAQ,EAAE,SAXoB;AAY9BC,EAAAA,KAAK,EAAE,WAZuB;AAa9BC,EAAAA,QAAQ,EAAE;AAboB,CAAlC;;AAeA,MAAMjB,kBAAN,SAAiCC,SAAS,CAACiB,OAA3C,CAAmD;AAC/CC,EAAAA,WAAW,CAACC,QAAD,EAAWC,SAAX,EAAsBC,eAAtB,EAAuC;AAC9C;;AACA,SAAKA,eAAL,GAAwBC,QAAD,IAAcC,OAAO,CAACC,KAAR,CAAcF,QAAd,CAArC;;AACA,SAAKG,UAAL,GAAkBL,SAAlB;AACA,SAAKM,aAAL,GAAqBP,QAArB;AACA,SAAKE,eAAL,GAAuBA,eAAvB;AACH;;AACU,QAALM,KAAK,GAAG;AACV,QAAI;AACA,YAAMC,SAAS,GAAG,EACd,GAAG,KAAKH,UAAL,CAAgBI,MAAhB,EADW;AAEd,WAAG,KAAKH,aAAL,CAAmBG,MAAnB;AAFW,OAAlB;AAIA3B,MAAAA,OAAO,CAAC4B,0BAAR,CAAmCF,SAAnC,EAA8CzB,yBAA9C,EAAyE,iBAAzE,EAA4F,KAAKkB,eAAjG;AACH,KAND,CAOA,OAAOU,GAAP,EAAY;AACR,WAAKV,eAAL,CAAqB,oBAAoBU,GAAzC;AACH;AACJ;;AAnB8C;;AAqBnDlC,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PayherePreapproval = void 0;\r\nconst Payhere_1 = require(\"./Payhere\");\r\nconst utils_1 = require(\"./utils\");\r\nconst requiredPreapprovalParams = {\r\n    return_url: 'returnUrl',\r\n    cancel_url: 'cancelUrl',\r\n    notify_url: 'notifyUrl',\r\n    first_name: 'firstName',\r\n    last_name: 'lastName',\r\n    email: 'email',\r\n    phone: 'phone',\r\n    address: 'address',\r\n    city: 'city',\r\n    country: 'country',\r\n    order_id: 'orderId',\r\n    items: 'itemTitle',\r\n    currency: 'currency',\r\n};\r\nclass PayherePreapproval extends Payhere_1.Payhere {\r\n    constructor(customer, preappObj, onApprovalError) {\r\n        super();\r\n        this.onApprovalError = (errorMsg) => console.error(errorMsg);\r\n        this._preappObj = preappObj;\r\n        this._customerData = customer;\r\n        this.onApprovalError = onApprovalError;\r\n    }\r\n    async start() {\r\n        try {\r\n            const preappReq = {\r\n                ...this._preappObj.toJSON(),\r\n                ...this._customerData.toJSON(),\r\n            };\r\n            utils_1.submitPayhereClientRequest(preappReq, requiredPreapprovalParams, '/pay/preapprove', this.onApprovalError);\r\n        }\r\n        catch (err) {\r\n            this.onApprovalError('Unknown error: ' + err);\r\n        }\r\n    }\r\n}\r\nexports.PayherePreapproval = PayherePreapproval;\r\n"]},"metadata":{},"sourceType":"script"}